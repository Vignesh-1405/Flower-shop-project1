<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reg2.css">
    <title>Register</title>
</head>
<body>
    <form  class="form-container" onsubmit="registerfun(event)">
        <h1>Register</h1>
        <label for="Username">Username</label>
        <input type="text" id="Username" required minlength="5" maxlength="15">
         <label for="Email">Email</label>
        <input type="email" id="Email" required>
        <label for="Password">Password</label>
        <input type="password" id="Password" required minlength="8" maxlength="20">
        <label for="Re-Password">Re-Password</label>
        <input type="password" id="re-Password" required minlength="8" maxlength="20">
        <button type="submit" >Register</button>
        <a href="#">forget password ?</a>
        <a href="login.html">Aldready have account / Login here üíê</a>
    </form>
    <script>
    function registerfun(event){
        event.preventDefault(); // Prevent form submission
        // Validate username length     
        let pass=document.getElementById("Password").value.trim();
        let pass1=document.getElementById("re-Password").value.trim();
        let mail=document.getElementById("Email").value.trim();
        let username=document.getElementById("Username").value.trim();
        
        if(pass !== pass1){
            alert("Password not matching");
            return;
        } 
//         
    let regex = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,20}$/;

    if(!regex.test(pass)){
        alert("Password must contain at least 1 uppercase letter, 1 number, 1 special character, and be 8-20 characters long");
        return;
    }
let user = {
    username:username,
    password:pass,
    email:mail
}

let users = JSON.parse(localStorage.getItem("users") || "[]");


users.push(user);

localStorage.setItem("users",JSON.stringify(users));
//store in lc storage
// localStorage.setItem("Username",username);
// localStorage.setItem("Password",pass);
// localStorage.setItem("Email",mail);

    // Success
    alert("Registered Successfully! You can login now");
    window.location.href = "login.html"; // Redirect to login page
}
        
    
    </script>
</body>
</html>